{% extends 'base.html' %}
{% load static %}

{% block custom_style %}
<link rel="stylesheet" href="{% static 'login/creator.css' %}">
{% endblock %}

{% block main %}
<div class="mypage_title" style="margin-top: 50px; text-align: center;">
    <h2 style="color: #dd445b ;">Creator page</h2>
    <p>나의 크리에이터 정보를 확인할 수 있습니다.</p>
</div>
<div class="contents" style="margin-top: 100px; text-align: center; margin-bottom: 70px;">
    <table class="additional_info">
        <tr>
            <td><b>크리에이터명</b></td>
            <td>{{ creator.creator_name }}</td>
        </tr>
        <tr>
            <td><b>크리에이터 사진</b></td>
            <!--            <td>{{ creator.creator_photo }}</td>-->
            <td><img src="{{ creator.creator_photo.url }}" alt="creator photo"
                     style="max-width: 500px; max-height: 300px;"></td>
        </tr>
        <tr>
            <td><b>개인/팀 소개</b></td>
            <td>{{ creator.desc }}</td>
        </tr>
    </table>
    <!--        <p>사진:<img src="{{ creator.creator_photo.url }}" alt="creator photo"></p>-->
    <!--        <p>설명 : {{ creator.desc }}</p>-->

    <button type="button"
            style="margin: 0 auto; text-align: center!important; margin-top: 50px;  height: 50px; width: 130px; border:none; border-radius: 10px;color: white; ">
        <a href="{% url 'login:creator_update' creator.pk %}" style="text-decoration: none; color: white;">수정하기</a>
    </button>
    <button type="button"
            style="margin: 0 auto; text-align: center!important; margin-top: 50px;  height: 50px; width: 130px; border:none; border-radius: 10px;color: white; ">
        <a href="{% url 'login:main' %}" style="text-decoration: none; color: white;">메인으로</a>
    </button>
    <br/>
        <div id="user_pk_section" style="display:none">{{user.pk}}</div>
        <a href="{% url 'login:creator_delete' user.pk %}" id="delete_creator" style="text-decoration: none; color: white;">
        <button type="button"
            style="margin: 0 auto; text-align: center!important; margin-top: 50px;  height: 50px; width: 260px; border:none; border-radius: 10px;color: white; ">
            크리에이터 계정 삭제</button></a>
    <br/><br/>
<hr/>
</div>

{% endblock %}

{% block hanseokscript %}
<script>
    let user_pk_tag = document.querySelector('#user_pk_section')
    let user_pk = user_pk_tag.textContent
    let returnUrl = '/login/' + user_pk + '/creator/'

    let delete_creator = document.querySelector('#delete_creator')

     delete_creator.onclick = function(e) {
        let confirm_result = confirm("정말 크리에이터를 지우시겠습니까?\n되돌릴 수 없습니다.");
        if (confirm_result === false){
            //return true
            //document.querySelector('#delete_creator').setAttribute('href', returnUrl)
            e.preventDefault()   //이게 더 많이 쓰이는 방법이라고 함.
        }
    }
  


</script>
{% endblock %}

